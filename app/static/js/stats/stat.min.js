function load_stats(t){close_menu(),$("#errorAlert-2").hide(),$("#errorAlert-1").hide(),$("#league_logo").empty();var s=logos_map(t);$("#league_logo").append('<img src="/static/logos/'+s[0]+'">'),$("#title").text(s[1]),$("#load-league-1").text(s[1]),$("#load-league-2").text(s[1]),$("#current_league_name").text(t),load_data(t)}function close_menu(){$("#menu-button").removeClass(),$("#menu-button").next().removeClass(),$("#menu-button").next().css("display","none")}function logos_map(t){var s={epl:["epl-menu.png","Premier League"],liga:["liga-menu.png","La Liga"],bundesliga:["bundesliga-menu.png","Bundesliga"],ligue1:["ligue1-menu.png","Ligue 1"],seriea:["seriea-menu.png","Serie A"]};return s[t]}function load_data(t){$("#standings-tab").hasClass("btn-info")?($("#standings_content").empty(),$("#gif-tab1").show(),$("#load-msg-2").show(),AJAX_standings(t)):$("#topstats-tab").hasClass("btn-info")&&($("#topstats_content").empty(),$("#gif-tab2").show(),$("#load-msg-1").show(),AJAX_topstats(t))}function load_extra_tab(t){$("#standings-tab").hasClass("btn-info")?($("#standings_content").empty(),$("#load-msg-1").hide(),$("#gif-tab1").show(),AJAX_standings(t)):$("#topstats-tab").hasClass("btn-info")&&($("#topstats_content").empty(),$("#load-msg-2").hide(),$("#gif-tab2").show(),AJAX_topstats(t))}function AJAX_standings(t){$.ajax({type:"POST",url:"/stats/standings-ajax",data:{league:t}}).done(function(t){400==t.status?$("#ajax-fail-1").show():(console.log(t),$("#standings_content").append(standings_tbody(t)),$("#gif-tab1").hide())})}function AJAX_topstats(t){$.ajax({type:"POST",url:"/stats/topstats-ajax",data:{league:t}}).done(function(t){400==t.status?$("#ajax-fail-2").show():(console.log(t),$("#topstats_content").append(),$("#gif-tab2").hide())})}function standings_tbody(t){var s='<tr class="warning"><th style="width: 10px;"></th><th style="width: 60px;">Team Name</th><th style="width: 10%;">MP</th><th style="width: 10%;">W&nbsp;</th><th style="width: 10%;">D&nbsp;</th><th style="width: 10%;">L&nbsp;</th><th style="width: 10%;">GD</th><th style="width: 10%;">Pts</th><th style="width: 10%;">Form</th></tr>',a='<tr class="warning"><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>',n="",e=JSON.parse(t);for(var d in e)e.hasOwnProperty(d)&&(n+="1"==d||"2"==d||"3"==d?'<tr class="success">':"18"==d||"19"==d||"20"==d?'<tr class="danger">':"<tr>",n+=$(window).width()>768?'<td style="text-align:center;">'+e[d].rank+".</td>":'<td style="padding-left:2px;padding-right:0px;">'+e[d].rank+".</td>",n+="<td>"+e[d].name+"</td><td>"+e[d].mp+"</td><td>"+e[d].w+"</td><td>"+e[d].d+"</td><td>"+e[d].l+"</td><td>"+e[d].gd+"</td><td>"+e[d].pts+"</td><td><a onclick=\"showForm('"+e[d].name+"','"+e[d].form+'\')" class="btn btn-xs" data-toggle="modal" data-target="#standingsModal" style="background: #22aba6;color: white;"><i class="menu-icon icon-bar-chart"></i> Show</a></td></tr>');return"<tbody>"+s+n+a+"</tbody>"}function showForm(t,s){$("#standingsModalLabel").text(t+"'s Form"),$("#modal-content-form").html(modalBody(s))}function modalBody(t){for(var s='<div class="row" style="margin-top:0px;text-align:center;padding-bottom:10px;"><div class="col-md-3 col-xs-3" style="padding-left: 0px;padding-right: 0px;"><span><strong> Date </strong></span></div><div class="col-md-8 col-xs-8" style="padding-left: 0px;padding-right: 0px;"><span><strong> Match Results </strong></span></div><div class="col-md-1 col-xs-1" style="padding-left: 0px;padding-right: 0px;"><span><strong></strong></span></div></div>',a=t.split(","),n=0;n<a.length;n+=3)s+='<div class="row" style="margin-top:0px;text-align:center;"><div class="col-md-3 col-xs-3" style="padding-bottom:5px;padding-left: 0px;padding-right: 0px;"><span>'+a[n+2]+'</span></div><div class="col-md-8 col-xs-8" style="padding-bottom:5px;padding-left: 0px;padding-right: 0px;"><span>'+a[n+1]+'</span></div><div class="col-md-1 col-xs-1" style="padding-bottom:5px;padding-left: 0px;padding-right: 0px;"><span>'+map_result(a[n])+"</span></div></div>";return s}function map_result(t){var s={L:'<a class="btn btn-xs" style="background: #d9534f;color: white;width:25px;">L</a>',W:'<a class="btn btn-xs" style="background: #5cb85c;color: white;width:25px;">W</a>',D:'<a class="btn btn-xs" style="background: #f0ad4e;color: white;width:25px;">D</a>'};return s[t]}$(document).ready(function(){$(".btn-pref .btn").click(function(){"topstats-tab"==this.id?($("#tab1").hide(),$("#tab2").show(),$("#tab2").addClass("active in"),$("#tab1").removeClass("active in")):"standings-tab"==this.id&&($("#tab2").hide(),$("#tab1").show(),$("#tab1").addClass("active in"),$("#tab2").removeClass("active in")),$(".btn-pref .btn").removeClass("btn-info").addClass("btn-default"),$(this).removeClass("btn-default").addClass("btn-info")})}),function(t){t.fn.menumaker=function(s){var a=t(this),n=t.extend({title:"Menu",format:"dropdown",sticky:!1},s);return this.each(function(){a.prepend('<div id="menu-button">'+n.title+"</div>"),t(this).find("#menu-button").on("click",function(){t(this).toggleClass("menu-opened");var s=t(this).next("ul");s.hasClass("open")?s.hide().removeClass("open"):(s.show().addClass("open"),"dropdown"===n.format&&s.find("ul").show())}),a.find("li ul").parent().addClass("has-sub"),multiTg=function(){a.find(".has-sub").prepend('<span class="submenu-button"></span>'),a.find(".submenu-button").on("click",function(){t(this).toggleClass("submenu-opened"),t(this).siblings("ul").hasClass("open")?t(this).siblings("ul").removeClass("open").hide():t(this).siblings("ul").addClass("open").show()})},"multitoggle"===n.format?multiTg():a.addClass("dropdown")})}}(jQuery),function(t){t(document).ready(function(){t(document).ready(function(){t("#cssmenu").menumaker({title:"Choose League / Competition",format:"multitoggle"})})})}(jQuery);